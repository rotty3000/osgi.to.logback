buildscript {
	repositories {
		mavenCentral()
		maven {
			url bnd_repo
		}
	}
	dependencies {
		classpath bnd_plugin
	}
}

apply plugin: 'biz.aQute.bnd.builder'
apply plugin: 'eclipse'
apply plugin: 'maven'

group = 'com.github.rotty3000'
version = '0.1.0'

repositories {
	mavenLocal()
	mavenCentral()
	maven {
		url 'https://oss.sonatype.org/content/repositories/osgi-snapshots'
	}
}

dependencies {
	compile 'ch.qos.logback:logback-classic:1.2.0'
	compileOnly 'org.osgi:org.osgi.annotation.bundle:1.0.0-SNAPSHOT'
	compileOnly 'org.osgi:org.osgi.annotation.versioning:1.1.0-SNAPSHOT'
	compile 'org.osgi:org.osgi.service.log:1.4.0-SNAPSHOT'
	compileOnly 'org.osgi:osgi.core:6.0.0'
	compileOnly 'org.eclipse.platform:org.eclipse.osgi:3.12.100'
}

jar {
   bndfile = new File(temporaryDir, 'bnd.bnd')
   bndfile << """
Bundle-SymbolicName: ${project.group}.\${replace;${baseName};-;.}
Import-Package: !org.eclipse.osgi.internal.hookregistry, *
"""
}
